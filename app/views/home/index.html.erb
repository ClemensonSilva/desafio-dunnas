<div class="container mt-5">
  <% if current_user %>
    <div class="card">
      <div class="card-header text-center">
        <h2>Bem vindo(a), <%= current_user.nome %>!</h2>
        <p class="mb-0">Sua função é a de <%= current_user.role %></p>
      </div>
      <div class="card-body">
        <% if current_user.role %>
          <!-- Flex container: text on left, buttons on right -->
          <div class="d-flex justify-content-between align-items-center mb-3">
            <p class="mb-0">
              <strong>Total de Usuários:</strong> <%= User.count %>
            </p>
            <div>
              <% if can? :all, Unidade %>
                <%= button_to 'Criar Nova Unidade', new_unidade_path, method: :get,
                      class: "btn mx-1", style: "background-color: #CC342D; color: white;" %>
                <%= button_to 'Menu de Unidades', unidades_path, method: :get,
                      class: "btn mx-1", style: "background-color: #CC342D; color: white;" %>
              <% end %>
                <br>
              <% if can? :all, Setor %>
                <%= button_to 'Criar Novo Setor', new_setor_path, method: :get,
                      class: "btn mx-1", style: "background-color: #CC342D; color: white;" %>
              <%= button_to 'Menu dos setores', setors_path, method: :get,
                    class: "btn mx-1", style: "background-color: #CC342D; color: white;" %>
              <br>
              <% end %>

              <% if can? :all, User %>
                <%= button_to 'Criar Novo Funcionário', new_user_registration_path, method: :get,
                      class: "btn mx-1", style: "background-color: #CC342D; color: white;" %>
              <br>
              <% end %>

              <% if can? :create, Visitante %>
                <%= button_to 'Criar Novo Visitante', new_visitante_path, method: :get,
                      class: "btn mx-1", style: "background-color: #CC342D; color: white;" %>
              <% end %>

              <% if can? :read, Visitante %>
                <%= button_to 'Menu de Visitantes', visitantes_path, method: :get,
                      class: "btn mx-1", style: "background-color: #CC342D; color: white;" %>
              <% end %>
              <br>
              <% if can? :read, Visita %>
                <%= button_to 'Menu de Visitas', visitas_path, method: :get,
                      class: "btn mx-1", style: "background-color: #CC342D; color: white;" %>
              <% end %>

              <% if can? :create, Visita %>
                <%= button_to 'Criar  Nova Visita ', new_visita_path, method: :get,
                      class: "btn mx-1", style: "background-color: #CC342D; color: white;" %>
              <% end %>

        <br>

            </div>
          </div>
        <% end %>

        <div class="text-center">
          <%= button_to "Sair", destroy_user_session_path, method: :delete,
                class: "btn", style: "background-color: #CC342D; color: white;" %>
        </div>
      </div>
    </div>
  <% else %>
    <div class="alert alert-warning text-center">
      <p>Você não está logado(a)</p>
      <div class="d-flex justify-content-center">
        <%= button_to "Registrar-se", new_user_registration_path, method: :get,
              class: "btn mx-1", style: "background-color: #CC342D; color: white;" %>
        <%= button_to "Entrar", new_user_session_path, method: :get,
              class: "btn mx-1", style: "background-color: #CC342D; color: white;" %>
      </div>
    </div>
  <% end %>
</div>
